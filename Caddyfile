# api.ctechsolutions.co -> reverse proxy a suplemedicos.com.co por **IPv4**
api.ctechsolutions.co {
  encode zstd gzip

  reverse_proxy https://45.152.46.144 {
    # Mantener Host y SNI del upstream
    header_up Host suplemedicos.com.co
    header_up X-Real-IP {remote}
    header_up X-Forwarded-For {remote}
    header_up X-Forwarded-Proto {scheme}

    transport http {
      tls_server_name suplemedicos.com.co
      dial_timeout 10s
      response_header_timeout 30s
      read_buffer 8192
    }
  }

  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
    Referrer-Policy "strict-origin-when-cross-origin"
  }
}
